@using OnlineMinion.SPA.Blazor.Transaction.Debit.ViewModels
@using OnlineMinion.Application.Contracts.PaymentSpec.Responses
@using OnlineMinion.Application.Contracts.AccountSpec.Responses
@using System.Globalization

@code {

  private static class Str
  {
    public const string Date = nameof(BaseTransactionDebitUpsertVM.Date);
    public const string Amount = nameof(BaseTransactionDebitUpsertVM.Amount);
    public const string Subject = nameof(BaseTransactionDebitUpsertVM.Subject);
    public const string Party = nameof(BaseTransactionDebitUpsertVM.Party);
    public const string PaymentInstrumentColumn = "paymnt. opt.";
    public const string Tags = nameof(BaseTransactionDebitUpsertVM.Tags);
    public const string Fee = nameof(BaseTransactionDebitUpsertVM.Fee);
    public const string AccountSpecColumn = "acc. spec.";
    public const string PaymentInstrumentName = nameof(PaymentSpecDescriptorResp.Name);
    public const string PaymentInstrumentId = nameof(PaymentSpecDescriptorResp.Id);
    public const string AccountSpecName = nameof(AccountSpecResp.Name);
    public const string AccountSpecId = nameof(AccountSpecResp.Id);
  }

}

<UpsertEditorWrapper Model="@Model" OnCancel="@OnCancel" OnSubmit="@OnSubmit" @ref="@WrapperRef">
  <EditorFormFields>
    <RadzenFormField Style="width:30%" Text="@Str.Date" Variant="@Variant.Text">
      <RadzenDatePicker
          @bind-Value="@context.Date"
          DateFormat="@CultureInfo.CurrentCulture.DateTimeFormat.ShortDatePattern"
          TValue="DateTime"/>
    </RadzenFormField>
    <RadzenFormField Style="width: 30%" Text="@Str.Amount" Variant="@Variant.Text">
      <RadzenNumeric @bind-Value="@context.Amount" Format="c"/>
    </RadzenFormField>
    <RadzenFormField Style="width: 36%" Text="@Str.Party" Variant="@Variant.Text">
      <RadzenTextBox @bind-Value="@context.Party" Trim="@true"/>
    </RadzenFormField>
    <RadzenFormField Style="width: 98%" Text="@Str.Subject" Variant="@Variant.Text">
      <RadzenTextBox @bind-Value="@context.Subject" Trim="@true"/>
    </RadzenFormField>
    <RadzenFormField Style="width: 43%" Text="@Str.PaymentInstrumentColumn" Variant="@Variant.Text">
      <RadzenDropDown
          AllowClear="@true"
          AllowFiltering="@true"
          @bind-Value="@context.PaymentInstrumentId"
          Data="@PaymentSpecDescriptors"
          TextProperty="@Str.PaymentInstrumentName"
          ValueProperty="@Str.PaymentInstrumentId"/>
    </RadzenFormField>
    <RadzenFormField Style="width: 43%" Text="@Str.AccountSpecColumn" Variant="@Variant.Text">
      <RadzenDropDown
          AllowClear="@true"
          AllowFiltering="@true"
          @bind-Value="@context.AccountSpecId"
          Data="@AccountSpecDescriptors"
          TextProperty="@Str.AccountSpecName"
          ValueProperty="@Str.AccountSpecId"/>
    </RadzenFormField>
    <RadzenFormField Style="width: 98%" Text="@Str.Fee" Variant="@Variant.Text">
      <RadzenNumeric @bind-Value="@context.Fee" Format="c"/>
    </RadzenFormField>
    <RadzenFormField Style="width:98%" Text="@Str.Tags" Variant="@Variant.Text">
      <RadzenTextBox @bind-Value="@context.Tags" Trim="@true"/>
    </RadzenFormField>
  </EditorFormFields>
</UpsertEditorWrapper>
